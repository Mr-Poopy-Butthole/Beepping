<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Bowling Ball Path Mock</title>
  <style>
    body {
      background: #111;
      color: #f5f5f5;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    h1 {
      margin-bottom: 0.25rem;
    }
    p.subtitle {
      margin-top: 0;
      margin-bottom: 1.5rem;
      font-size: 0.9rem;
      color: #bbb;
    }

    .lane-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      margin-bottom: 24px;
    }

    canvas {
      border: 1px solid #444;
      background: #2d1c0f; /* wood-ish base */
    }

    .legend {
      display: flex;
      gap: 16px;
      font-size: 0.85rem;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .legend-color {
      width: 18px;
      height: 4px;
      border-radius: 2px;
    }

    .legend-color.skid {
      background: #4fc3f7;
    }

    .legend-color.hook {
      background: #ffb74d;
    }

    .legend-color.roll {
      background: #81c784;
    }

    .stats-container {
      max-width: 800px;
      width: 100%;
    }

    .stats-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.9rem;
      margin-top: 8px;
    }

    .stats-table th,
    .stats-table td {
      padding: 6px 8px;
      border: 1px solid #444;
    }

    .stats-table th {
      background: #222;
      text-align: left;
    }

    .stats-table tr:nth-child(even) td {
      background: #181818;
    }

    .stats-heading {
      font-size: 1rem;
      margin: 0;
      margin-bottom: 4px;
    }

    .stats-subheading {
      font-size: 0.85rem;
      color: #bbb;
      margin: 0;
      margin-bottom: 8px;
    }
  </style>
</head>
<body>
  <h1>Bowling Ball Path – Mock Result</h1>
  <p class="subtitle">
    Standard house shot &bull; Example ball: Medium–strong symmetric &bull; Right-handed bowler
  </p>

    <!-- USBC-style SVG lane (static for now) -->
  <svg
    id="usbc-lane"
    viewBox="0 0 3200 400"
    style="max-width: 100%; height: auto; margin: 40px auto; display: block;"
  >
    <!-- Background -->
    <rect x="0" y="0" width="3200" height="400" fill="#3b2512" />

    <!-- Gutters -->
    <rect x="0"   y="60" width="3200" height="80"  fill="#181818" />
    <rect x="0"   y="260" width="3200" height="80" fill="#181818" />

    <!-- Lane surface -->
    <rect
      id="lane-surface"
      x="0"
      y="80"
      width="3200"
      height="240"
      fill="#6b3f1f"
    />

    <!-- Foul line -->
    <rect x="40" y="80" width="10" height="240" fill="#f5f5f5" />

    <!-- Pin deck -->
    <rect
      id="pin-deck"
      x="3000"
      y="80"
      width="160"
      height="240"
      fill="#7b4a25"
    />

    <!-- Arrows at ~15 ft, on boards 5,10,15,20,25,30,35 -->
    <!-- Lane usable height = 240 px, representing 39 boards -->
    <!-- Approx pixels per board ≈ 240 / 39 ≈ 6.15 -->
    <!-- Top of lane = y=80 -->
    <g id="arrows">
      <!-- common x for arrows (about 15 ft from foul line) -->
      <!-- visually around first quarter of lane -->
      <!-- arrow shape: points right (down-lane) -->
      <!-- helper function in head: y = 80 + board * 6.15 (we just hard-code here) -->

      <!-- board 5 -->
      <polygon
        points="800,111 780,105 780,117"
        fill="#f0d9b5"
      />
      <!-- board 10 -->
      <polygon
        points="800,142 780,136 780,148"
        fill="#f0d9b5"
      />
      <!-- board 15 -->
      <polygon
        points="800,173 780,167 780,179"
        fill="#f0d9b5"
      />
      <!-- board 20 -->
      <polygon
        points="800,204 780,198 780,210"
        fill="#f0d9b5"
      />
      <!-- board 25 -->
      <polygon
        points="800,235 780,229 780,241"
        fill="#f0d9b5"
      />
      <!-- board 30 -->
      <polygon
        points="800,266 780,260 780,272"
        fill="#f0d9b5"
      />
      <!-- board 35 -->
      <polygon
        points="800,297 780,291 780,303"
        fill="#f0d9b5"
      />
    </g>

    <!-- Pin spots – rotated 90° clockwise so rows go down-lane, spread across lane -->
    <!-- Headpin is closest to foul line; back row farthest right -->
    <g id="pin-spots" transform="translate(2960, 200)">
      <!-- Headpin (No.1) -->
      <!-- x increases toward pins (right), y positive is down; we center on y=0 -->
      <circle cx="0" cy="0" r="10" fill="#f5f5f5" />


  <!-- Existing canvas-based demo (still working) -->
  <div class="lane-wrapper">
    <canvas id="laneCanvas" width="640" height="220"></canvas>
    <div class="legend">
      <div class="legend-item">
        <div class="legend-color skid"></div>
        <span>Skid phase</span>
      </div>
      <div class="legend-item">
        <div class="legend-color hook"></div>
        <span>Hook / transition phase</span>
      </div>
      <div class="legend-item">
        <div class="legend-color roll"></div>
        <span>Roll phase</span>
      </div>
    </div>
  </div>

  <div class="stats-container">
    <p class="stats-heading">Draft Ball Motion Summary</p>
    <p class="stats-subheading">
      Example output only – numbers roughly match the visual path above.
    </p>
    <table class="stats-table">
      <tr>
        <th colspan="4">Bowler & Ball Inputs</th>
      </tr>
      <tr>
        <td>Ball</td><td>Motiv Primal Shock (mock)</td>
        <td>Speed at release</td><td>17.0 mph</td>
      </tr>
      <tr>
        <td>Rev rate</td><td>375 RPM</td>
        <td>Axis rotation</td><td>55°</td>
      </tr>
      <tr>
        <td>Axis tilt</td><td>15°</td>
        <td>Launch board (at foul line)</td><td>12</td>
      </tr>
      <tr>
        <td>Target board (at arrows ~15 ft)</td><td>10</td>
        <td>Lane pattern</td><td>Typical House Shot, 41 ft</td>
      </tr>

      <tr>
        <th colspan="4">Calculated Motion & Pocket Result</th>
      </tr>
      <tr>
        <td>Skid distance</td><td>0–32 ft</td>
        <td>Hook distance</td><td>32–48 ft</td>
      </tr>
      <tr>
        <td>Roll distance</td><td>48–60 ft</td>
        <td>Breakpoint (distance & board)</td><td>41 ft @ board 8</td>
      </tr>
      <tr>
        <td>Total boards of hook</td><td>~9 boards (8 → 17)</td>
        <td>Entry board at headpin</td><td>17.5</td>
      </tr>
      <tr>
        <td>Entry angle</td><td>6.2° into pocket</td>
        <td>Pocket hit?</td><td>Yes – light flush</td>
      </tr>
    </table>
  </div>

  <script>
    // Basic lane scale: 60 ft long, 39 boards wide
    const feetToPx = 10;   // 1 ft = 10 px horizontally
    const boardsToPx = 4;  // 1 board = 4 px vertically

    const laneLengthFeet = 60;
    const laneBoards = 39;

    const laneOffsetX = 20;
    const laneOffsetY = 20;

    const laneLengthPx = laneLengthFeet * feetToPx;  // 600
    const laneWidthPx  = laneBoards * boardsToPx;    // 156

    const canvas = document.getElementById('laneCanvas');
    const ctx = canvas.getContext('2d');

    function laneXFromFeet(feet) {
      return laneOffsetX + feet * feetToPx;
    }

    function laneYFromBoard(board) {
      // board 0 = far left, board 39 = far right
      return laneOffsetY + board * boardsToPx;
    }

    function drawLane() {
      // Clear
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Draw lane rectangle (wood)
      ctx.fillStyle = '#3b2a1b';
      ctx.fillRect(laneOffsetX, laneOffsetY, laneLengthPx, laneWidthPx);

      // Light "board" lines
      ctx.strokeStyle = 'rgba(255, 255, 255, 0.05)';
      ctx.lineWidth = 1;
      for (let b = 1; b < laneBoards; b++) {
        const y = laneYFromBoard(b);
        ctx.beginPath();
        ctx.moveTo(laneOffsetX, y);
        ctx.lineTo(laneOffsetX + laneLengthPx, y);
        ctx.stroke();
      }

      // Gutters
      ctx.fillStyle = '#000';
      // Top gutter
      ctx.fillRect(
        laneOffsetX,
        laneOffsetY - 10,
        laneLengthPx,
        10
      );
      // Bottom gutter
      ctx.fillRect(
        laneOffsetX,
        laneOffsetY + laneWidthPx,
        laneLengthPx,
        10
      );

      // Foul line (x = 0 ft)
      ctx.strokeStyle = '#eee';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(laneXFromFeet(0), laneOffsetY - 10);
      ctx.lineTo(laneXFromFeet(0), laneOffsetY + laneWidthPx + 10);
      ctx.stroke();

      // Arrows around 15 ft, roughly boards 5, 8, 11, 14, 17
      const arrowDistance = 15;
      const arrowBoards = [5, 8, 11, 14, 17];
      ctx.fillStyle = '#f5f5f5';
      arrowBoards.forEach(board => {
        const x = laneXFromFeet(arrowDistance);
        const y = laneYFromBoard(board);
        ctx.beginPath();
        ctx.moveTo(x - 4, y - 4);
        ctx.lineTo(x, y + 4);
        ctx.lineTo(x + 4, y - 4);
        ctx.closePath();
        ctx.fill();
      });

      // Pin deck area (last ~3 ft)
      const pinDeckStartFeet = 57;
      ctx.fillStyle = '#4a3424';
      ctx.fillRect(
        laneXFromFeet(pinDeckStartFeet),
        laneOffsetY,
        laneLengthPx - (pinDeckStartFeet * feetToPx),
        laneWidthPx
      );

      // Draw pins (simple circles) in standard 10-pin layout
      drawPins();
    }

    function drawPins() {
      // Approximate headpin position:
      const headpinFeet = 60;
      const headpinBoard = 19.5;

      // Pin spacing (in boards) – approximate: 1 board between adjacent pins
      const rowSpacingBoards = 1.1;

      const pins = [];

      // Row 1 (headpin)
      pins.push({ row: 1, xFt: headpinFeet, board: headpinBoard });

      // Row 2
      pins.push({ row: 2, xFt: headpinFeet - 0.6, board: headpinBoard - rowSpacingBoards / 2 });
      pins.push({ row: 2, xFt: headpinFeet - 0.6, board: headpinBoard + rowSpacingBoards / 2 });

      // Row 3
      pins.push({ row: 3, xFt: headpinFeet - 1.2, board: headpinBoard - rowSpacingBoards });
      pins.push({ row: 3, xFt: headpinFeet - 1.2, board: headpinBoard });
      pins.push({ row: 3, xFt: headpinFeet - 1.2, board: headpinBoard + rowSpacingBoards });

      // Row 4
      pins.push({ row: 4, xFt: headpinFeet - 1.8, board: headpinBoard - 1.5 * rowSpacingBoards });
      pins.push({ row: 4, xFt: headpinFeet - 1.8, board: headpinBoard - 0.5 * rowSpacingBoards });
      pins.push({ row: 4, xFt: headpinFeet - 1.8, board: headpinBoard + 0.5 * rowSpacingBoards });
      pins.push({ row: 4, xFt: headpinFeet - 1.8, board: headpinBoard + 1.5 * rowSpacingBoards });

      ctx.fillStyle = '#fff';
      ctx.strokeStyle = '#000';
      ctx.lineWidth = 1;

      pins.forEach(pin => {
        const x = laneXFromFeet(pin.xFt);
        const y = laneYFromBoard(pin.board);
        ctx.beginPath();
        ctx.arc(x, y, 4, 0, Math.PI * 2);
        ctx.fill();
        ctx.stroke();
      });
    }

    // Mock ball path segmented into skid / hook / roll.
    const skidPath = [
      { ft: 0,  board: 12 },
      { ft: 5,  board: 12 },
      { ft: 10, board: 11.8 },
      { ft: 15, board: 11.5 },
      { ft: 20, board: 11.2 },
      { ft: 25, board: 10.8 },
      { ft: 30, board: 10.2 },
      { ft: 32, board: 10 }
    ];

    const hookPath = [
      { ft: 32, board: 10 },
      { ft: 35, board: 10.5 },
      { ft: 38, board: 11.5 },
      { ft: 41, board: 13 },
      { ft: 44, board: 15 },
      { ft: 48, board: 17 }
    ];

    const rollPath = [
      { ft: 48, board: 17 },
      { ft: 52, board: 17.3 },
      { ft: 56, board: 17.6 },
      { ft: 60, board: 17.8 }
    ];

    function drawPathSegment(points, color) {
      ctx.strokeStyle = color;
      ctx.lineWidth = 3;
      ctx.beginPath();
      points.forEach((pt, index) => {
        const x = laneXFromFeet(pt.ft);
        const y = laneYFromBoard(pt.board);
        if (index === 0) {
          ctx.moveTo(x, y);
        } else {
          ctx.lineTo(x, y);
        }
      });
      ctx.stroke();
    }

    function drawBallPath() {
      drawPathSegment(skidPath, '#4fc3f7');
      drawPathSegment(hookPath, '#ffb74d');
      drawPathSegment(rollPath, '#81c784');

      const last = rollPath[rollPath.length - 1];
      const x = laneXFromFeet(last.ft);
      const y = laneYFromBoard(last.board);
      ctx.fillStyle = '#fdd835';
      ctx.beginPath();
      ctx.arc(x, y, 6, 0, Math.PI * 2);
      ctx.fill();
      ctx.strokeStyle = '#000';
      ctx.stroke();
    }

    // Initial draw
    drawLane();
    drawBallPath();
  </script>
</body>
</html>
